# 如何区分factory和repository

factory位于领域层，repository接口位于领域层，实现位于基础设施层。\
factory的职责是【创建一个新对象h】；repository的职责是将持久化组件封装起来，对外提供统一便捷的对象获取和状态修改的接口。repository不是把数据从数据库取出来还原成对象，而是解决的对象在业务流程和持久化组件之间的转换问题

## ddd与现实对照理解

**ddd：** 工厂创建一个新对象

**现实：** 工厂生产一件新产品

**ddd：** 工厂负责对象的创建和复杂对象的重建，仓库负责把对象从持久化组件中取出交给工厂重建或业务流程处理

**现实：** 工厂负责产品的生产和零件组装，仓库管理员负责把产品或零件从仓库中取出交给工厂组装或门店销售

## 名词解释

在ddd中：

1. 【对象】泛指【实体（entity）】或【值对象（value object）】
2. 【工厂（factory）】、【仓库（repository）】、【领域服务（domain service）】不是【对象】
3. ddd中的【对象】不是编程语言中的对象（Object）
4. 【业务流程】指【对象】或【领域服务（domain service）】中的方法流程
5. 【持久化组件】指关系型数据库、缓存组件、文件等可持久化的组件
