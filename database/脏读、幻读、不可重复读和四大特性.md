# 并发读取数据库的三种常见问题

## 脏读

事务1读取到了事务2尚未提交的数据，此时事务2回滚，事务1读到的数据就是脏数据。

## 幻读

一个事务中多次获取同一表的条数，前后不一致。在事务1两次获取条数的间隔中被事务2增加或删除了数据。

## 不可重复读

一个事务中读取多次同一条数据，获得的结果集前后不一。在事务1两次读取的间隔中被事务2修改了数据。

### 注

幻读和不可重复读很像，幻读针对的是insert和delete操作，不可重复读针对的是update操作

# 数据库事务的四大特性

## 原子性

一个事务包含的所有数据库操作要么全部成功，要么全部失败回滚。

## 隔离性

一个事务在提交前对其他事务是否可见。

## 持久性

一个事务在提交后，对数据库的改变是永久的，即使数据库故障，提交后的更改也能得以保留。

## 一致性

前三者合起来要达到的状态，是一种目标，是一种逻辑上的概念，类似于“能量守恒”的意思。不满足一致性的数据库可以理解为存在bug，需要通过调整前三个特性来满足一致性。