# java动态代理

## 静态代理

静态代理是代理模式中最简单的一种，将所有对对象的访问都替换为访问代理对象，代理对象持有被代理对象的引用，再对其功能进行拓展。

``` java
public interface Person {
    public void sayName();
    public void sayAge();
}

public class Student implements Person {

    @Override
    public void sayName() {
        System.out.println("Henry");
    }

    @Override
    public void sayAge() {
        System.out.println(27);
    }

}

public class StudentProxy implements Person{

    private Person person;
    
    public StudentProxy(Person person) {
        this.person=person;
    }
    
    @Override
    public void sayName() {
        System.out.println("in proxy");
        this.person.sayName();
        System.out.println("after proxy");
    }

    @Override
    public void sayAge() {
        System.out.println("in proxy");
        this.person.sayAge();
        System.out.println("after proxy");
        
    }

    public static void main(String[] args) {
        Person stu = new Student();
        Person stup = new StudentProxy(stu);
        
        stup.sayName();
        stup.sayAge();
    }
}
```

## jdk动态代理

jdk提供了java.lang.reflect.Proxy和java.lang.reflect.InvocationHandler来实现动态代理
